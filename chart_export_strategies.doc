<html xmlns:o='urn:schemas-microsoft-com:office:office' xmlns:w='urn:schemas-microsoft-com:office:word' xmlns='http://www.w3.org/TR/REC-html40'>
<head>
<meta charset="utf-8">
<title>Chart Export Strategies</title>
<style>
body { font-family: 'Calibri', 'Arial', sans-serif; line-height: 1.6; }
h1 { color: #2E74B5; border-bottom: 1px solid #2E74B5; padding-bottom: 10px; }
h2 { color: #1F4E79; margin-top: 20px; }
strong { color: #333; }
ul { margin-bottom: 15px; }
li { margin-bottom: 5px; }
.recommendation { background-color: #F2F2F2; padding: 15px; border-left: 5px solid #2E74B5; margin-top: 30px; }
</style>
</head>
<body>

<h1>Chart Export Strategies</h1>
<p>Overview of technical strategies to improve the visibility and legibility of large organization charts in exported PDFs.</p>

<h2>1. The "Infinite Canvas" Strategy (Dynamic Sizing)</h2>
<p>This is the most effective solution for digital viewing. Instead of shrinking the chart to fit the paper, we stretch the paper to fit the chart.</p>
<ul>
    <li><strong>The Logic:</strong>
        <ul>
            <li>Calculate the exact pixel width/height of the generated chart image.</li>
            <li>Initialize the PDF with <em>custom dimensions</em> matching those pixels exactly, rather than standard "A4".</li>
            <li>Place the image at 1:1 scale (100% size).</li>
        </ul>
    </li>
    <li><strong>The Result:</strong> The PDF opens in a viewer at a large size (e.g., 50 inches wide). Users can zoom in perfectly to read every name, and text remains sharp because it hasn't been downscaled.</li>
    <li><strong>Best For:</strong> Emailing PDFs, viewing on screens.</li>
    <li><strong>Downside:</strong> Difficult to print on standard physical office printers (will crop or shrink).</li>
</ul>

<h2>2. The "Vector" Strategy (SVG Embedding)</h2>
<p>Currently, the app takes a "screenshot" (raster image) of the chart. If zoomed in, it becomes pixelated. This strategy uses vector graphics instead.</p>
<ul>
    <li><strong>The Logic:</strong> Use a library like <code>svg2pdf.js</code> (already present in <code>assets/export/</code>) to translate D3 SVG instructions directly into PDF vector instructions.</li>
    <li><strong>The Result:</strong> Text and lines are mathematically defined, not pixels. You can zoom in infinitely (1000% zoom), and the text remains perfectly crisp.</li>
    <li><strong>Best For:</strong> Professional reports, maximum clarity.</li>
    <li><strong>Implementation Note:</strong> Leverage the existing <code>svg2pdf.min.js</code> capability currently used in bulk exports.</li>
</ul>

<h2>3. The "Atlas" Strategy (Smart Segmentation)</h2>
<p>If physical printing is a requirement, neither of the above works well for massive charts. This strategy breaks the chart into logical chunks.</p>
<ul>
    <li><strong>The Logic:</strong>
        <ul>
            <li><strong>Executive Summary Page:</strong> Shows only the top 2-3 levels of the hierarchy.</li>
            <li><strong>Department Pages:</strong> Automatically creates a separate page for "Engineering," "Sales," etc., showing their sub-trees rooted at the VP level.</li>
        </ul>
    </li>
    <li><strong>The Result:</strong> A multi-page PDF where every page is legible and printable on standard paper.</li>
    <li><strong>Best For:</strong> Board meetings, physical archives, wall displays.</li>
</ul>

<div class="recommendation">
    <h2>Recommendation</h2>
    <p>Since you are in the planning/design phase:</p>
    <ol>
        <li><strong>Short Term:</strong> Implement <strong>Strategy 1 (Dynamic Sizing)</strong>. It requires minimal code changes (removing the "A4" constraint) and instantly solves the legibility problem for screen viewers.</li>
        <li><strong>Long Term:</strong> Move to <strong>Strategy 2 (Vector/SVG)</strong>. This provides the highest quality polish users expect from a professional tool.</li>
    </ol>
</div>

</body>
</html>